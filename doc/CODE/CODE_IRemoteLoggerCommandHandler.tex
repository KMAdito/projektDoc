\begin{spacing}{0.75}
	\begin{javacode}
/**
 * Handlet das Kommando zur Autorisierung des RemoteLogger-Clients am RemoteLogger-Server.
 * Wenn die Autorisierung erfolgreich ist, dann wird dies der Verbindung gesetzt.
 * Andernfalls wird die Verbindung SOFORT geschlossen!
 *
 * @author W.Glanzer, 23.11.2015
 * @see AuthorizationCommand
 */
public class AuthorizationCommandHandler implements 
  IRemoteLoggerCommandHandler<AuthorizationCommand>
{

  private Supplier<IRemoteLoggerLoginFacade> loginFacadeSupplier;

  /**
   * Erstellt einen CommandHandler zur Autorisierung vom RemoteLogger-Clients am Server
   *
   * @param pRemoteLoggerLoginFacade Facade zum einloggen von RemoteLogger-Clients am 
   *                                 RemoteLogger-Server, oder <tt>null</tt> wenn 
   *                                 generell alle Clients erlaubt sind
   */
  public AuthorizationCommandHandler(
    @Nullable Supplier<IRemoteLoggerLoginFacade> pRemoteLoggerLoginFacade)
  {
    loginFacadeSupplier = pRemoteLoggerLoginFacade;
  }

  @Override
  public void handle(IRemoteLoggerServerConnection pConnection, AuthorizationCommand pCmd)
  {
    IRemoteLoggerLoginFacade loginFacade = null;
    if(loginFacadeSupplier != null)
      loginFacade = loginFacadeSupplier.get()
    
    boolean loginOK = loginFacade == null || 
                        loginFacade.checkLogin(pCmd.getLoginInformation());
    if (loginOK)
      pConnection.setAuthorized(true);
    else
      pConnection.close();
  }

}\end{javacode}
\end{spacing}
\vspace{15px}
\begin{spacing}{0.75}
	\begin{javacode}
/**
 * Handelt das "Language"-Kommando am Server ab
 * und setzt die neue Sprache der ServerConnection.
 * Somit muss dann nicht der Client die CheckPoints Ã¼bersetzen,
 * sondern der Server schickt diese schon in der richtigen Sprache.
 *
 * @author W.Glanzer, 20.11.2015
 * @see LanguageCommand
 */
public class LanguageCommandHandler 
  implements IRemoteLoggerCommandHandler<LanguageCommand>
{

  @Override
  public void handle(IRemoteLoggerServerConnection pConnection, LanguageCommand pCommand)
  {
    Locale newLocale = pCommand.getNewLocale();
    if(newLocale != null)
      pConnection.setLocale(newLocale);
  }

}\end{javacode}
\end{spacing}